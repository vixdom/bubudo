{"ast":null,"code":"import * as references from \"../../../common/casualReferences.js\";\nimport { assignSimilarDate } from \"../../../utils/dayjs.js\";\nimport dayjs from \"dayjs\";\nimport { AbstractParserWithLeftRightBoundaryChecking } from \"./AbstractParserWithWordBoundaryChecking.js\";\nexport default class UKCasualTimeParser extends AbstractParserWithLeftRightBoundaryChecking {\n  innerPatternString(context) {\n    return `(зараз|минулого\\\\s*вечора|минулої\\\\s*ночі|наступної\\\\s*ночі|сьогодні\\\\s*вночі|цієї\\\\s*ночі|цього ранку|вранці|ранку|зранку|опівдні|ввечері|вечора|опівночі|вночі)`;\n  }\n  innerExtract(context, match) {\n    let targetDate = dayjs(context.reference.instant);\n    const lowerText = match[0].toLowerCase();\n    const component = context.createParsingComponents();\n    if (lowerText === \"зараз\") {\n      return references.now(context.reference);\n    }\n    if (lowerText === \"ввечері\" || lowerText === \"вечора\") {\n      return references.evening(context.reference);\n    }\n    if (lowerText.endsWith(\"вранці\") || lowerText.endsWith(\"ранку\") || lowerText.endsWith(\"зранку\")) {\n      return references.morning(context.reference);\n    }\n    if (lowerText.endsWith(\"опівдні\")) {\n      return references.noon(context.reference);\n    }\n    if (lowerText.match(/минулої\\s*ночі/)) {\n      return references.lastNight(context.reference);\n    }\n    if (lowerText.match(/минулого\\s*вечора/)) {\n      return references.yesterdayEvening(context.reference);\n    }\n    if (lowerText.match(/наступної\\s*ночі/)) {\n      const daysToAdd = targetDate.hour() < 22 ? 1 : 2;\n      targetDate = targetDate.add(daysToAdd, \"day\");\n      assignSimilarDate(component, targetDate);\n      component.imply(\"hour\", 1);\n    }\n    if (lowerText.match(/цієї\\s*ночі/)) {\n      return references.midnight(context.reference);\n    }\n    if (lowerText.endsWith(\"опівночі\") || lowerText.endsWith(\"вночі\")) {\n      return references.midnight(context.reference);\n    }\n    return component;\n  }\n}","map":{"version":3,"names":["references","assignSimilarDate","dayjs","AbstractParserWithLeftRightBoundaryChecking","UKCasualTimeParser","innerPatternString","context","innerExtract","match","targetDate","reference","instant","lowerText","toLowerCase","component","createParsingComponents","now","evening","endsWith","morning","noon","lastNight","yesterdayEvening","daysToAdd","hour","add","imply","midnight"],"sources":["/Users/mvikr/Projects/TaskApp/frontend/node_modules/chrono-node/src/locales/uk/parsers/UKCasualTimeParser.ts"],"sourcesContent":["import { ParsingContext } from \"../../../chrono\";\nimport * as references from \"../../../common/casualReferences\";\nimport { assignSimilarDate } from \"../../../utils/dayjs\";\nimport dayjs from \"dayjs\";\nimport { AbstractParserWithLeftRightBoundaryChecking } from \"./AbstractParserWithWordBoundaryChecking\";\n\nexport default class UKCasualTimeParser extends AbstractParserWithLeftRightBoundaryChecking {\n    innerPatternString(context: ParsingContext): string {\n        return `(зараз|минулого\\\\s*вечора|минулої\\\\s*ночі|наступної\\\\s*ночі|сьогодні\\\\s*вночі|цієї\\\\s*ночі|цього ранку|вранці|ранку|зранку|опівдні|ввечері|вечора|опівночі|вночі)`;\n    }\n\n    innerExtract(context: ParsingContext, match: RegExpMatchArray) {\n        let targetDate = dayjs(context.reference.instant);\n        const lowerText = match[0].toLowerCase();\n        const component = context.createParsingComponents();\n\n        if (lowerText === \"зараз\") {\n            return references.now(context.reference);\n        }\n        if (lowerText === \"ввечері\" || lowerText === \"вечора\") {\n            return references.evening(context.reference);\n        }\n        if (lowerText.endsWith(\"вранці\") || lowerText.endsWith(\"ранку\") || lowerText.endsWith(\"зранку\")) {\n            return references.morning(context.reference);\n        }\n        if (lowerText.endsWith(\"опівдні\")) {\n            return references.noon(context.reference);\n        }\n        if (lowerText.match(/минулої\\s*ночі/)) {\n            return references.lastNight(context.reference);\n        }\n        if (lowerText.match(/минулого\\s*вечора/)) {\n            return references.yesterdayEvening(context.reference);\n        }\n        if (lowerText.match(/наступної\\s*ночі/)) {\n            const daysToAdd = targetDate.hour() < 22 ? 1 : 2;\n            targetDate = targetDate.add(daysToAdd, \"day\");\n            assignSimilarDate(component, targetDate);\n            component.imply(\"hour\", 1);\n        }\n        if (lowerText.match(/цієї\\s*ночі/)) {\n            return references.midnight(context.reference);\n        }\n        if (lowerText.endsWith(\"опівночі\") || lowerText.endsWith(\"вночі\")) {\n            return references.midnight(context.reference);\n        }\n        return component;\n    }\n}\n"],"mappings":"AACA,OAAO,KAAKA,UAAU,MAAM,qCAAmC;AAC/D,SAASC,iBAAiB,QAAQ,yBAAuB;AACzD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,2CAA2C,QAAQ,6CAA2C;AAEvG,eAAc,MAAOC,kBAAmB,SAAQD,2CAA2C;EACvFE,kBAAkBA,CAACC,OAAuB;IACtC,OAAO,mKAAmK;EAC9K;EAEAC,YAAYA,CAACD,OAAuB,EAAEE,KAAuB;IACzD,IAAIC,UAAU,GAAGP,KAAK,CAACI,OAAO,CAACI,SAAS,CAACC,OAAO,CAAC;IACjD,MAAMC,SAAS,GAAGJ,KAAK,CAAC,CAAC,CAAC,CAACK,WAAW,EAAE;IACxC,MAAMC,SAAS,GAAGR,OAAO,CAACS,uBAAuB,EAAE;IAEnD,IAAIH,SAAS,KAAK,OAAO,EAAE;MACvB,OAAOZ,UAAU,CAACgB,GAAG,CAACV,OAAO,CAACI,SAAS,CAAC;;IAE5C,IAAIE,SAAS,KAAK,SAAS,IAAIA,SAAS,KAAK,QAAQ,EAAE;MACnD,OAAOZ,UAAU,CAACiB,OAAO,CAACX,OAAO,CAACI,SAAS,CAAC;;IAEhD,IAAIE,SAAS,CAACM,QAAQ,CAAC,QAAQ,CAAC,IAAIN,SAAS,CAACM,QAAQ,CAAC,OAAO,CAAC,IAAIN,SAAS,CAACM,QAAQ,CAAC,QAAQ,CAAC,EAAE;MAC7F,OAAOlB,UAAU,CAACmB,OAAO,CAACb,OAAO,CAACI,SAAS,CAAC;;IAEhD,IAAIE,SAAS,CAACM,QAAQ,CAAC,SAAS,CAAC,EAAE;MAC/B,OAAOlB,UAAU,CAACoB,IAAI,CAACd,OAAO,CAACI,SAAS,CAAC;;IAE7C,IAAIE,SAAS,CAACJ,KAAK,CAAC,gBAAgB,CAAC,EAAE;MACnC,OAAOR,UAAU,CAACqB,SAAS,CAACf,OAAO,CAACI,SAAS,CAAC;;IAElD,IAAIE,SAAS,CAACJ,KAAK,CAAC,mBAAmB,CAAC,EAAE;MACtC,OAAOR,UAAU,CAACsB,gBAAgB,CAAChB,OAAO,CAACI,SAAS,CAAC;;IAEzD,IAAIE,SAAS,CAACJ,KAAK,CAAC,kBAAkB,CAAC,EAAE;MACrC,MAAMe,SAAS,GAAGd,UAAU,CAACe,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC;MAChDf,UAAU,GAAGA,UAAU,CAACgB,GAAG,CAACF,SAAS,EAAE,KAAK,CAAC;MAC7CtB,iBAAiB,CAACa,SAAS,EAAEL,UAAU,CAAC;MACxCK,SAAS,CAACY,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;;IAE9B,IAAId,SAAS,CAACJ,KAAK,CAAC,aAAa,CAAC,EAAE;MAChC,OAAOR,UAAU,CAAC2B,QAAQ,CAACrB,OAAO,CAACI,SAAS,CAAC;;IAEjD,IAAIE,SAAS,CAACM,QAAQ,CAAC,UAAU,CAAC,IAAIN,SAAS,CAACM,QAAQ,CAAC,OAAO,CAAC,EAAE;MAC/D,OAAOlB,UAAU,CAAC2B,QAAQ,CAACrB,OAAO,CAACI,SAAS,CAAC;;IAEjD,OAAOI,SAAS;EACpB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}