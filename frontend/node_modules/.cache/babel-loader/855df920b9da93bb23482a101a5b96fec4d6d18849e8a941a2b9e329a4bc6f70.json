{"ast":null,"code":"import { Filter } from \"../abstractRefiners.js\";\nexport default class UnlikelyFormatFilter extends Filter {\n  constructor(strictMode) {\n    super();\n    this.strictMode = strictMode;\n  }\n  isValid(context, result) {\n    if (result.text.replace(\" \", \"\").match(/^\\d*(\\.\\d*)?$/)) {\n      context.debug(() => {\n        console.log(`Removing unlikely result '${result.text}'`);\n      });\n      return false;\n    }\n    if (!result.start.isValidDate()) {\n      context.debug(() => {\n        console.log(`Removing invalid result: ${result} (${result.start})`);\n      });\n      return false;\n    }\n    if (result.end && !result.end.isValidDate()) {\n      context.debug(() => {\n        console.log(`Removing invalid result: ${result} (${result.end})`);\n      });\n      return false;\n    }\n    if (this.strictMode) {\n      return this.isStrictModeValid(context, result);\n    }\n    return true;\n  }\n  isStrictModeValid(context, result) {\n    if (result.start.isOnlyWeekdayComponent()) {\n      context.debug(() => {\n        console.log(`(Strict) Removing weekday only component: ${result} (${result.end})`);\n      });\n      return false;\n    }\n    if (result.start.isOnlyTime() && (!result.start.isCertain(\"hour\") || !result.start.isCertain(\"minute\"))) {\n      context.debug(() => {\n        console.log(`(Strict) Removing uncertain time component: ${result} (${result.end})`);\n      });\n      return false;\n    }\n    return true;\n  }\n}","map":{"version":3,"names":["Filter","UnlikelyFormatFilter","constructor","strictMode","isValid","context","result","text","replace","match","debug","console","log","start","isValidDate","end","isStrictModeValid","isOnlyWeekdayComponent","isOnlyTime","isCertain"],"sources":["/Users/mvikr/Projects/TaskApp/frontend/node_modules/chrono-node/src/common/refiners/UnlikelyFormatFilter.ts"],"sourcesContent":["import { Filter } from \"../abstractRefiners\";\nimport { ParsingResult } from \"../../results\";\n\nexport default class UnlikelyFormatFilter extends Filter {\n    constructor(private strictMode: boolean) {\n        super();\n    }\n\n    isValid(context, result: ParsingResult): boolean {\n        if (result.text.replace(\" \", \"\").match(/^\\d*(\\.\\d*)?$/)) {\n            context.debug(() => {\n                console.log(`Removing unlikely result '${result.text}'`);\n            });\n\n            return false;\n        }\n\n        if (!result.start.isValidDate()) {\n            context.debug(() => {\n                console.log(`Removing invalid result: ${result} (${result.start})`);\n            });\n\n            return false;\n        }\n\n        if (result.end && !result.end.isValidDate()) {\n            context.debug(() => {\n                console.log(`Removing invalid result: ${result} (${result.end})`);\n            });\n\n            return false;\n        }\n\n        if (this.strictMode) {\n            return this.isStrictModeValid(context, result);\n        }\n\n        return true;\n    }\n\n    private isStrictModeValid(context, result: ParsingResult) {\n        if (result.start.isOnlyWeekdayComponent()) {\n            context.debug(() => {\n                console.log(`(Strict) Removing weekday only component: ${result} (${result.end})`);\n            });\n\n            return false;\n        }\n\n        if (result.start.isOnlyTime() && (!result.start.isCertain(\"hour\") || !result.start.isCertain(\"minute\"))) {\n            context.debug(() => {\n                console.log(`(Strict) Removing uncertain time component: ${result} (${result.end})`);\n            });\n\n            return false;\n        }\n\n        return true;\n    }\n}\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,wBAAsB;AAG7C,eAAc,MAAOC,oBAAqB,SAAQD,MAAM;EACpDE,YAAoBC,UAAmB;IACnC,KAAK,EAAE;IADS,KAAAA,UAAU,GAAVA,UAAU;EAE9B;EAEAC,OAAOA,CAACC,OAAO,EAAEC,MAAqB;IAClC,IAAIA,MAAM,CAACC,IAAI,CAACC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAACC,KAAK,CAAC,eAAe,CAAC,EAAE;MACrDJ,OAAO,CAACK,KAAK,CAAC,MAAK;QACfC,OAAO,CAACC,GAAG,CAAC,6BAA6BN,MAAM,CAACC,IAAI,GAAG,CAAC;MAC5D,CAAC,CAAC;MAEF,OAAO,KAAK;;IAGhB,IAAI,CAACD,MAAM,CAACO,KAAK,CAACC,WAAW,EAAE,EAAE;MAC7BT,OAAO,CAACK,KAAK,CAAC,MAAK;QACfC,OAAO,CAACC,GAAG,CAAC,4BAA4BN,MAAM,KAAKA,MAAM,CAACO,KAAK,GAAG,CAAC;MACvE,CAAC,CAAC;MAEF,OAAO,KAAK;;IAGhB,IAAIP,MAAM,CAACS,GAAG,IAAI,CAACT,MAAM,CAACS,GAAG,CAACD,WAAW,EAAE,EAAE;MACzCT,OAAO,CAACK,KAAK,CAAC,MAAK;QACfC,OAAO,CAACC,GAAG,CAAC,4BAA4BN,MAAM,KAAKA,MAAM,CAACS,GAAG,GAAG,CAAC;MACrE,CAAC,CAAC;MAEF,OAAO,KAAK;;IAGhB,IAAI,IAAI,CAACZ,UAAU,EAAE;MACjB,OAAO,IAAI,CAACa,iBAAiB,CAACX,OAAO,EAAEC,MAAM,CAAC;;IAGlD,OAAO,IAAI;EACf;EAEQU,iBAAiBA,CAACX,OAAO,EAAEC,MAAqB;IACpD,IAAIA,MAAM,CAACO,KAAK,CAACI,sBAAsB,EAAE,EAAE;MACvCZ,OAAO,CAACK,KAAK,CAAC,MAAK;QACfC,OAAO,CAACC,GAAG,CAAC,6CAA6CN,MAAM,KAAKA,MAAM,CAACS,GAAG,GAAG,CAAC;MACtF,CAAC,CAAC;MAEF,OAAO,KAAK;;IAGhB,IAAIT,MAAM,CAACO,KAAK,CAACK,UAAU,EAAE,KAAK,CAACZ,MAAM,CAACO,KAAK,CAACM,SAAS,CAAC,MAAM,CAAC,IAAI,CAACb,MAAM,CAACO,KAAK,CAACM,SAAS,CAAC,QAAQ,CAAC,CAAC,EAAE;MACrGd,OAAO,CAACK,KAAK,CAAC,MAAK;QACfC,OAAO,CAACC,GAAG,CAAC,+CAA+CN,MAAM,KAAKA,MAAM,CAACS,GAAG,GAAG,CAAC;MACxF,CAAC,CAAC;MAEF,OAAO,KAAK;;IAGhB,OAAO,IAAI;EACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}